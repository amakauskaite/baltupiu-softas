<ui:composition template="masterTemplate.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pa="http://xmlns.jcp.org/jsf/passthrough">


    <ui:define name="title"> Parduotuve </ui:define>

    <ui:define name="header">
        <ui:include src="adminHeader.xhtml"/>
    </ui:define>

    <ui:define name="left-sidebar"/>

    <ui:define name="content">
        <section class="main">

            <h:form class="admin-form" id="create-product" rendered="#{productBean.product eq null}">
                <h2>Pridėti prekę</h2>

                <h:outputText value="Pavadinimas"/><br/>
                <h:inputText value="#{createProductBean.product.name}"/><br/>

                <h:outputText value="Nuotraukos url/nuoroda"/><br/>
                <h:inputText value="#{createProductBean.product.photo}"/><br/>

                <h:outputText value="SKU"/><br/>
                <h:inputText value="#{createProductBean.product.SKU}"/><br/>

                <h:outputText value="Kaina, eur"/><br/>
                <h:inputText value="#{createProductBean.product.price}" pa:type="number" pa:step="0.01"/><br/>

                <h:outputText value="Kategorija"/><br/>
                <p:selectOneMenu value="#{createProductBean.categoryName}" editable="true">
                    <f:selectItems value="#{categoryBean.categories}"  var="category" itemLabel="#{category.name}" itemValue="#{category.name}"/>
                </p:selectOneMenu><br/>

                <h:outputText value="Aprašymas"/><br/>
                <h:inputText pa:rows="5" pa:cols="60" class="summary-input" value="#{createProductBean.product.summary}" maxlength="255"/><br/>

                <h:commandButton value="Pridėti" actionListener="#{createProductBean.addProduct()}" action="adminIndex"/>
            </h:form>

            <h:form class="admin-form" id="update_product" rendered="#{productBean.product!=null}">
                <h2>Atnaujinti prekę</h2>

                <img class="pic-in-details" src="#{productBean.product.photo}"/>

                <h:outputLabel value="Pavadinimas: "/><br/>
                <h:inputText value="#{updateProductBean.updatedProduct.name}"/><br/>

                <h:outputText value="Nuotraukos url/nuoroda: "/><br/>
                <h:inputText value="#{updateProductBean.updatedProduct.photo}"/><br/>

                <h:outputText value="SKU: "/><br/>
                <h:inputText value="#{updateProductBean.updatedProduct.SKU}"/><br/>

                <h:outputText value="Kaina, eur: "/><br/>
                <h:inputText value="#{updateProductBean.updatedProduct.price}" pa:step="0.01" pa:type="number"/><br/>

                <h:outputText value="Kategorija: "/><br/>
                <p:selectOneMenu value="#{updateProductBean.categoryName}" editable="true">
                    <f:selectItems value="#{categoryBean.categories}" var="category" itemLabel="#{category.name}" itemValue="#{category.name}"/>
                </p:selectOneMenu><br/>

                <h:outputText value="Aprašymas: "/><br/>
                <h:inputText class="summary-input" pa:rows="5" pa:cols="60" value="#{updateProductBean.updatedProduct.summary}" maxlength="255"/><br/>


                <h:commandButton value="Pakeisti" actionListener="#{updateProductBean.updateProduct()}" action="adminIndex">
                    <f:param name="updatedId" value="#{productBean.product.id}"/>
                </h:commandButton>
            </h:form>

        </section>
    </ui:define>
</ui:composition>